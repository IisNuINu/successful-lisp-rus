<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<title>Successful Lisp - Chapter 27</title>
</head> 

<body bgcolor="white" text="black">
<h1>Глава 27 - Хороший Редактор стоит тысячи
нажатий клавиш</h1> 

<P>
Простой синтаксис Lisp сочетается с интегрированным редактором, 
чтобы облегчить многие из распространенных задач написания программы Lisp. 
Любой, кто пытается сказать вам, что" трудно сбалансировать скобки в программе Lisp",
использует неправильный редактор.

<h2>Простой синтаксис; умные редакторы</h2>

<p>
Лисп имеет очень простой синтаксис; это просто куча лексем, заключенных 
в пару скобок, рекурсивно. Этот простой синтаксис в сочетании с тем фактом, 
что первый маркер после левой скобки обычно говорит что-то о значении 
следующих маркеров, позволяет редакторам делать относительно умные вещи с 
текстом программы, учитывая только локальную информацию.

<p>
Практически каждая среда Lisp поставляется со своим собственным редактором 
с поддержкой Lisp. Редкая (обычно свободная и минималистичная) среда Lisp, 
которая не предоставляет своего собственного редактора, может использовать 
Emacs, который имеет режим редактирования исходного кода Lisp.

<h2>Соответствие и мигание(flashing)</h2>

<p>
Когда вы вводите программу Lisp в первый раз, очень удобно сразу увидеть 
соответствующие скобки. Большинство редакторов Lisp облегчают это, кратко 
выделяя открывающую скобку для каждой вводимой вами закрывающей скобки. 
Подсветка может принимать различные формы, в зависимости от реализации. 
Иногда курсор вставки текста на долю секунды возвращается к открывающей 
скобке (а затем возвращается в свое правильное положение перед вставкой 
следующего набранного символа).) Другой распространенный метод заключается 
в кратком отображении открывающей скобки жирным шрифтом или другим цветом. 
А некоторые редакторы даже рисуют контур вокруг всего списка. Независимо 
от того, как это делается, вы можете сразу увидеть, как ваши закрывающие 
скобки совпадают с их открывающими аналогами, при небольшой паузе во время
ввода программы.

<p>
После того как вы вошли в программу, вы можете найти соответствующие скобки, 
установив курсор либо в начале, либо в конце скобок, а затем введя нажатие 
клавиши, которое либо мигнет, либо переместит курсор в соответствующую скобку.

<h2>Автоматический отступ</h2>

<p>
Сопоставление скобок очень важно при вводе или редактировании программы. 
Но когда вы читаете программу на Лиспе, важен правильный отступ, чтобы 
дать вам визуальные подсказки относительно структуры программы. На самом 
деле, вы должны быть в состоянии скрыть скобки в правильно выделенной(с правильно
расставленными отступами) программе Lisp и все еще понимать программу.


<p>
Редакторы Lisp обычно предоставляют правильный отступ при вводе новой программы; 
в некоторых редакторах это делается автоматически, в то время как другие требуют, 
чтобы вы использовали другое нажатие клавиши вместо клавиши возврата для завершения 
строки. Вместе с сопоставлением скобок автоматическое форматирование(отступление)
позволяет вводить правильно заключенную в скобки и отформатированную программу Lisp 
без необходимости подсчитывать скобки или пробелы.

<p>
При редактировании существующей программы Lisp вы часто добавляете или 
удаляете какие-то части, так что правильный отступ остальной части программы 
должен измениться. Если бы вам пришлось все переделывать вручную, вы 
бы быстро разочаровались в Лиспе. Вот почему редакторы Lisp дают вам 
возможность переформатировать программу либо по одной строке за раз, 
либо для всей формы Lisp. Программисты на Лиспе склонны развивать привычку 
заканчивать небольшие изменения нажатием клавиши, чтобы переформатировать часть
редактируемой программы; это дает программисту немедленную визуальную обратную 
связь по обновленной структуре программы, выраженную в ее отступах.

<h2>Завершение символов</h2>

<p>
Лисп-программисты обычно не сокращают имена. Короткие мнемонические имена в 
Common Lisp существуют по историческим причинам; более новые дополнения к Lisp 
имеют полностью прописанные, описательные имена. К счастью, хороший редактор 
программ Lisp может сэкономить вам много времени на вводе текста, предоставив 
средство завершения символов.

<p>
Завершение символа работает примерно так. Когда вы вводите свою программу, 
вы используете имена, которые одновременно встроены в систему Lisp и 
определены заново вашей программой. При вводе имени вы можете нажать 
клавишу завершения символа в любое время после ввода первых нескольких знаков. 
Если набранный префикс однозначно соответствует некоторому символу, уже 
известному среде Lisp (либо потому, что он встроен, либо потому, что вы 
ранее ввели полное имя), редактор введет остальную часть символа за вас. 
Если введенный префикс соответствует более чем одному завершению, редактор 
может либо выбрать первое и позволить вам пролистать остальные, повторяя 
нажатие клавиши завершения, либо представить список возможных завершений, 
из которых вы можете выбрать. В любом случае важно отметить, что завершение 
символа не зависит от того, скомпилирована ли ваша программа; завершение 
работает даже во время начального ввода программы.

<h2>Поиск определений</h2>

<p>
При разработке программы вы часто обнаруживаете, что полезно обратиться к функции, 
которую вы определили ранее; возможно, вам нужно увидеть исходный код, чтобы 
убедиться, что он будет адекватно реагировать на неожиданные входные данные, 
или, возможно, вам нужно увидеть, как реализуется какая-то функциональность, 
поставляемая поставщиком. Редакторы Lisp поддерживают этот вид исследования 
еще одним нажатием клавиши; просто поместите курсор где-нибудь в имени, нажмите 
клавишу, и (если определение доступно в виде исходника) вы мгновенно увидите
представление определяющего исходного кода.

<h2>Интерактивная документация</h2>

<p>
Несмотря на свою основную простоту, Lisp-это большой язык. Формальная спецификация 
ANSI заполняет около 1500 страниц бумаги, описывающей язык и 978 предопределенных 
символов. Кроме того, среда разработки вашего поставщика будет определять сотни 
тысяч дополнительных символов. И, конечно же, ваша программа будет только добавлять 
в список имен символов.

<p>
Большинство редакторов Lisp позволят вам получить доступ к документации 
в различных формах. Для встроенного и определяемого пользователем кода 
редактор должен предоставить вам быстрый доступ к строке документации и 
списку аргументов. На самом деле, многие редакторы Lisp автоматически 
находят и ненавязчиво отображают список аргументов всякий раз, когда вы 
вводите пробел после имени функции или макроса. Быстрый взгляд на список 
аргументов поможет вам избежать ошибок в использовании.

<p>
Гипертекстовый доступ к онлайн-руководствам становится все более популярным. 
Некоторые редакторы Lisp поддерживают поиск в одном или нескольких руководствах 
(включая ссылку на Lisp) аналогично тому, как они поддерживают доступ к строкам
документации.

<h2>Доступ к инструментам отладки</h2>

<p>
Редактор (или среда Lisp в целом, если среда не ориентирована на редактор) 
должен поддерживать легкий доступ к средствам отладки, таким как браузеры, 
средства трассировки и пошагового выполнения, обратной трассировке вызовов, 
инспекторы и программные базы данных, такие как apropos, who-calls и callers-of 
(см. главы  <a href="chapter10.html">10</a>, <a href="chapter16.html">16</a>, и
 <a href="chapter22.html">22</a>).

<h2>Расширение редактора с помощью Lisp</h2>

<p>Редактор во многих средах разработки Lisp сам написан на Лиспе. 
Поставщик должен документировать внешние API редактора и предоставлять 
исходный код; затем вы можете добавить свои собственные расширения в 
Редактор и настроить среду Lisp в соответствии с тем, как вы работаете.

<hr>
<div align="center">
<a href="contents.html">Contents</a> | <a href="cover.html">Cover</a> <br> 
<a href="chapter26.html">Chapter 26</a> | Chapter 27 | <a href="chapter28.html">Chapter 28</a> 
</div>
<hr>
<address>
Copyright &copy; 1995-2001, David B. Lamkins<br>
All Rights Reserved Worldwide<br>
<br>
This book may not be reproduced without the written consent of its author.  Online distribution is restricted to the author's site.
</address> 
</body> </html>